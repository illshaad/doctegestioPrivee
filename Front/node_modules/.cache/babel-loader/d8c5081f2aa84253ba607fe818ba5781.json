{"ast":null,"code":"var _jsxFileName = \"/Users/macbookpro/Desktop/doctegestio/Front/src/components/Drop.js\";\nimport React from 'react';\nimport { Radio } from 'antd';\nimport axios from 'axios';\n\nclass Upload extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onChangeHandler = e => {\n      this.setState({\n        selectedFile: e.target.files\n      });\n      console.log(e.target.files[0]);\n    };\n\n    this.onClickHandler = async () => {\n      const data = new FormData();\n\n      for (var i = 0; i < this.state.selectedFile.length; i++) {\n        //permet de choisir plusieurs fichier //\n        data.append('file', this.state.selectedFile[i]); //envoie data back //\n      }\n\n      await axios.post(\"http://localhost:3000/upload\", data, {}).then(res => {\n        //data du back //\n        console.log(\"res.data du BACK\", res.data);\n        this.setState({\n          dataFromBack: res.data[0].resulJson\n        });\n      });\n    };\n\n    this.handleChange = e => {\n      if (e.target.value) {\n        // const testTab = [];\n        // testTab.push(this.state.dataFromBack[e.target.value])\n        this.setState({\n          // selectedCheckbox : testTab , \n          value: e.target.value\n        });\n        console.log(e.target.value, 'ICICICICICICICII');\n      }\n    };\n\n    this.sendFileBack = async () => {\n      const data = new FormData();\n\n      for (let i = 0; i < this.state.selectedCheckbox.length; i++) {\n        const coordonnanceDataBackFront = this.state.dataFromBack[this.state.selectedCheckbox[i]];\n        data.append('radio', coordonnanceDataBackFront); //recuperer la donnée de fromback et la checkbok l'indice de validation\n      }\n\n      await axios.post(\"http://localhost:3000/upload\", data, {});\n    };\n\n    this.drawLine = () => {\n      let result = [];\n\n      if (this.state.dataFromBack) {\n        this.state.dataFromBack.map((row, i) => {\n          console.log(row);\n\n          if (i > 0) {\n            result.push(React.createElement(\"tr\", {\n              key: i,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 70\n              },\n              __self: this\n            }, React.createElement(\"th\", {\n              scope: \"row\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 71\n              },\n              __self: this\n            }, i), React.createElement(\"th\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 72\n              },\n              __self: this\n            }, row[\"diag\"]), React.createElement(\"th\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 73\n              },\n              __self: this\n            }, row[\"scores\"])));\n          }\n        });\n      }\n\n      return result;\n    };\n\n    this.state = {\n      selectedFile: null,\n      //mon fichier est stoker ici//\n      dataFromBack: [],\n      selectedCheckbox: [],\n      value: 1\n    };\n  }\n\n  render() {\n    console.log(\" Le state\", this.state.dataFromBack);\n    console.log('INPUT', this.state.selectedCheckbox);\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      method: \"post\",\n      action: \"#\",\n      id: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group files\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"\",\n      type: \"file\",\n      name: \"file\",\n      multiple: true,\n      onChange: this.onChangeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }))), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn\",\n      onClick: this.onClickHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Upload\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(\"table\", {\n      className: \"table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"#\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Diagnostic\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Score\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Validation\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, this.drawLine()))), React.createElement(Radio.Group, {\n      value: this.state.value,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(Radio, {\n      onChange: this.handleChange,\n      value: 1,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \"A\"), React.createElement(Radio, {\n      onChange: this.handleChange,\n      value: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"B\"), React.createElement(Radio, {\n      onChange: this.handleChange,\n      value: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"C\"))));\n  }\n\n}\n\nexport default Upload;","map":{"version":3,"sources":["/Users/macbookpro/Desktop/doctegestio/Front/src/components/Drop.js"],"names":["React","Radio","axios","Upload","Component","constructor","props","onChangeHandler","e","setState","selectedFile","target","files","console","log","onClickHandler","data","FormData","i","state","length","append","post","then","res","dataFromBack","resulJson","handleChange","value","sendFileBack","selectedCheckbox","coordonnanceDataBackFront","drawLine","result","map","row","push","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Radio } from 'antd';\nimport axios from 'axios';\n\n\n\nclass Upload extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n        selectedFile : null ,   //mon fichier est stoker ici//\n        dataFromBack  : [],\n        selectedCheckbox : [],\n        value : 1\n    };\n}\n    onChangeHandler = e => {\n    this.setState({\n    selectedFile : e.target.files,\n    })\n    console.log(e.target.files[0]);\n    }\n\n    onClickHandler = async () => {\n        const data = new FormData() \n        for(var i = 0 ; i < this.state.selectedFile.length ; i++)\n        { //permet de choisir plusieurs fichier //\n            data.append('file', this.state.selectedFile[i]) //envoie data back //\n        }\n        await axios.post(\"http://localhost:3000/upload\", data, { \n        })\n        .then(res => { //data du back //\n            console.log(\"res.data du BACK\", res.data)\n            this.setState({\n            dataFromBack : res.data[0].resulJson\n            })      \n        })\n    }\n\n    handleChange = (e) => {\n        if(e.target.value ){\n            // const testTab = [];\n            // testTab.push(this.state.dataFromBack[e.target.value])\n          this.setState({\n            // selectedCheckbox : testTab , \n            value : e.target.value\n          })\n          console.log(e.target.value , 'ICICICICICICICII');\n          \n        }\n    }\n\n    sendFileBack  = async () => {\n        const data = new FormData()\n        for (let i = 0 ; i < this.state.selectedCheckbox.length ; i++){\n          const coordonnanceDataBackFront = this.state.dataFromBack[this.state.selectedCheckbox[i]]\n          data.append('radio', coordonnanceDataBackFront) //recuperer la donnée de fromback et la checkbok l'indice de validation\n            }\n        await axios.post(\"http://localhost:3000/upload\", data , {\n        })\n        \n    }\n\n    drawLine = () => {\n        let result = [];\n        if(this.state.dataFromBack){\n            this.state.dataFromBack.map((row,i) => {\n                console.log(row)\n                if(i > 0){\n                result.push( <tr key = {i}>\n                    <th scope=\"row\">{i}</th>\n                    <th>{row[\"diag\"]}</th>\n                    <th>{row[\"scores\"]}</th>\n                    </tr>)\n                }\n            })  \n        }\n        return result\n    }\n\n    render() {\n        console.log(\" Le state\" , this.state.dataFromBack)\n        console.log('INPUT' ,this.state.selectedCheckbox);\n        \n    return (\n        <div className=\"container\">\n            <div className=\"\">\n            <div className=\"\">\n                <form method=\"post\" action=\"#\" id=\"#\">\n                    <div className=\"form-group files\">\n                        <input id=''type=\"file\" name=\"file\" multiple onChange={this.onChangeHandler}/>\n                    </div>\n                </form>\n                <button type=\"button\" className=\"btn\" onClick={this.onClickHandler}>Upload</button>\n                <br/>\n                <br/>\n                <br/>\n                <table className=\"table\">\n                <thead>\n                <tr>\n                    <th scope=\"col\">#</th>\n                    <th scope=\"col\">Diagnostic</th>\n                    <th scope=\"col\">Score</th>\n                    <th scope=\"col\">Validation</th>\n                </tr>\n                </thead>\n                  <tbody>\n                      {this.drawLine()}\n                  </tbody> \n            </table>\n            </div>\n            <Radio.Group value={this.state.value}>\n            <Radio onChange={this.handleChange} value={1}>A</Radio>\n            <Radio onChange={this.handleChange} value={2}>B</Radio>\n            <Radio onChange={this.handleChange} value={3}>C</Radio>\n            </Radio.Group>\n            </div> \n        </div>\n    );\n  }\n}\n\n\nexport default Upload;\n\n\n"]},"metadata":{},"sourceType":"module"}